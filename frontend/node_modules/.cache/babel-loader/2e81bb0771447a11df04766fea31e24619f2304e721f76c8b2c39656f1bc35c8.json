{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';// Create the AuthContext and export it\nimport{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext(null);export const AuthProvider=_ref=>{let{children}=_ref;const[accessToken,setAccessToken]=useState(localStorage.getItem('access_token')||null);const[refreshToken,setRefreshToken]=useState(localStorage.getItem('refresh_token')||null);const[user,setUser]=useState(null);// Optional: store user info (like username, role, etc.)\nuseEffect(()=>{// Optionally, parse user details from the token or store separately\n// setUser(...)\n},[accessToken]);// Save tokens to localStorage for persistent login\nconst saveTokens=(access,refresh)=>{localStorage.setItem('access_token',access);localStorage.setItem('refresh_token',refresh);setAccessToken(access);setRefreshToken(refresh);};// Remove tokens from localStorage\nconst clearTokens=()=>{localStorage.removeItem('access_token');localStorage.removeItem('refresh_token');setAccessToken(null);setRefreshToken(null);setUser(null);};const value={accessToken,refreshToken,user,setUser,saveTokens,clearTokens};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","jsx","_jsx","AuthContext","AuthProvider","_ref","children","accessToken","setAccessToken","localStorage","getItem","refreshToken","setRefreshToken","user","setUser","saveTokens","access","refresh","setItem","clearTokens","removeItem","value","Provider"],"sources":["D:/Projects/new_folder1/as/frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\n\r\n// Create the AuthContext and export it\r\nexport const AuthContext = createContext(null);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [accessToken, setAccessToken] = useState(localStorage.getItem('access_token') || null);\r\n  const [refreshToken, setRefreshToken] = useState(localStorage.getItem('refresh_token') || null);\r\n  const [user, setUser] = useState(null); // Optional: store user info (like username, role, etc.)\r\n\r\n  useEffect(() => {\r\n    // Optionally, parse user details from the token or store separately\r\n    // setUser(...)\r\n  }, [accessToken]);\r\n\r\n  // Save tokens to localStorage for persistent login\r\n  const saveTokens = (access, refresh) => {\r\n    localStorage.setItem('access_token', access);\r\n    localStorage.setItem('refresh_token', refresh);\r\n    setAccessToken(access);\r\n    setRefreshToken(refresh);\r\n  };\r\n\r\n  // Remove tokens from localStorage\r\n  const clearTokens = () => {\r\n    localStorage.removeItem('access_token');\r\n    localStorage.removeItem('refresh_token');\r\n    setAccessToken(null);\r\n    setRefreshToken(null);\r\n    setUser(null);\r\n  };\r\n\r\n  const value = {\r\n    accessToken,\r\n    refreshToken,\r\n    user,\r\n    setUser,\r\n    saveTokens,\r\n    clearTokens,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAEjE;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,IAAI,CAAC,CAE9C,MAAO,MAAM,CAAAM,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAACU,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAI,IAAI,CAAC,CAC5F,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAACU,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,EAAI,IAAI,CAAC,CAC/F,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAAE;AAExCC,SAAS,CAAC,IAAM,CACd;AACA;AAAA,CACD,CAAE,CAACO,WAAW,CAAC,CAAC,CAEjB;AACA,KAAM,CAAAQ,UAAU,CAAGA,CAACC,MAAM,CAAEC,OAAO,GAAK,CACtCR,YAAY,CAACS,OAAO,CAAC,cAAc,CAAEF,MAAM,CAAC,CAC5CP,YAAY,CAACS,OAAO,CAAC,eAAe,CAAED,OAAO,CAAC,CAC9CT,cAAc,CAACQ,MAAM,CAAC,CACtBJ,eAAe,CAACK,OAAO,CAAC,CAC1B,CAAC,CAED;AACA,KAAM,CAAAE,WAAW,CAAGA,CAAA,GAAM,CACxBV,YAAY,CAACW,UAAU,CAAC,cAAc,CAAC,CACvCX,YAAY,CAACW,UAAU,CAAC,eAAe,CAAC,CACxCZ,cAAc,CAAC,IAAI,CAAC,CACpBI,eAAe,CAAC,IAAI,CAAC,CACrBE,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,KAAM,CAAAO,KAAK,CAAG,CACZd,WAAW,CACXI,YAAY,CACZE,IAAI,CACJC,OAAO,CACPC,UAAU,CACVI,WACF,CAAC,CAED,mBAAOjB,IAAA,CAACC,WAAW,CAACmB,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAAf,QAAA,CAAEA,QAAQ,CAAuB,CAAC,CAC9E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}