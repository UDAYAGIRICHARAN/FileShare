{"ast":null,"code":"import axios from 'axios';\nexport const uploadFile = async payload => {\n  try {\n    const token = localStorage.getItem('accessToken');\n    if (!token) throw new Error('Access token not found. Please log in.');\n    const response = await axios.post('http://127.0.0.1:8000/api/upload/', payload, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        // Include the access token\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log('Upload successful:', response.data);\n    return response.data;\n  } catch (err) {\n    var _err$response, _err$response2, _err$response2$data;\n    console.error('Upload error:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n    throw new Error(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Upload failed.');\n  }\n};","map":{"version":3,"names":["axios","uploadFile","payload","token","localStorage","getItem","Error","response","post","headers","Authorization","console","log","data","err","_err$response","_err$response2","_err$response2$data","error","message"],"sources":["D:/Projects/new_folder1/as/frontend/src/api/fileApi.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const uploadFile = async (payload) => {\r\n  try {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (!token) throw new Error('Access token not found. Please log in.');\r\n\r\n    const response = await axios.post('http://127.0.0.1:8000/api/upload/', payload, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`, // Include the access token\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    console.log('Upload successful:', response.data);\r\n    return response.data;\r\n  } catch (err) {\r\n    console.error('Upload error:', err.response?.data || err.message);\r\n    throw new Error(err.response?.data?.error || 'Upload failed.');\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,UAAU,GAAG,MAAOC,OAAO,IAAK;EAC3C,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACjD,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,wCAAwC,CAAC;IAErE,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,mCAAmC,EAAEN,OAAO,EAAE;MAC9EO,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUP,KAAK,EAAE;QAAE;QAClC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEFQ,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEL,QAAQ,CAACM,IAAI,CAAC;IAChD,OAAON,QAAQ,CAACM,IAAI;EACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,cAAA,EAAAC,mBAAA;IACZN,OAAO,CAACO,KAAK,CAAC,eAAe,EAAE,EAAAH,aAAA,GAAAD,GAAG,CAACP,QAAQ,cAAAQ,aAAA,uBAAZA,aAAA,CAAcF,IAAI,KAAIC,GAAG,CAACK,OAAO,CAAC;IACjE,MAAM,IAAIb,KAAK,CAAC,EAAAU,cAAA,GAAAF,GAAG,CAACP,QAAQ,cAAAS,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcH,IAAI,cAAAI,mBAAA,uBAAlBA,mBAAA,CAAoBC,KAAK,KAAI,gBAAgB,CAAC;EAChE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}