{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\new_folder1\\\\as\\\\frontend\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { AppBar, Toolbar, Typography, Avatar, Box, Button, Tab, Tabs } from '@mui/material';\nimport { AuthContext } from '../contexts/AuthContext';\nimport { getUserDetails } from '../api/userApi';\nimport { logoutUser } from '../api/authApi';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const {\n    refreshToken,\n    clearTokens\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [value, setValue] = useState(location.pathname);\n\n  // Fetch user details on mount\n  useEffect(() => {\n    const fetchUserDetails = async () => {\n      try {\n        const response = await getUserDetails();\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to fetch user details:', error);\n      }\n    };\n    if (refreshToken) {\n      fetchUserDetails();\n    }\n  }, [refreshToken]);\n  useEffect(() => {\n    setValue(location.pathname);\n  }, [location.pathname]);\n  const handleLogout = async () => {\n    try {\n      if (refreshToken) {\n        await logoutUser(refreshToken);\n      }\n    } catch (error) {\n      console.error('Logout failed:', error);\n    } finally {\n      clearTokens();\n      navigate('/login');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"fixed\",\n    sx: {\n      bgcolor: '#2E3B55',\n      width: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        // Ensures space between user info and logout\n        alignItems: 'center'\n      },\n      children: [user && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            bgcolor: '#FF7043',\n            mr: 2\n          },\n          children: user.username[0].toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            sx: {\n              fontWeight: 'bold',\n              color: '#FFF'\n            },\n            children: [\"Hi, \", user.Name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            sx: {\n              color: '#D1D9E6'\n            },\n            children: [\"@\", user.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: (e, newValue) => navigate(newValue),\n        textColor: \"inherit\",\n        TabIndicatorProps: {\n          style: {\n            backgroundColor: '#FF7043'\n          }\n        },\n        sx: {\n          flexGrow: 1,\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Home\",\n          value: \"/\",\n          sx: {\n            textTransform: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Uploaded Files\",\n          value: \"/uploaded-files\",\n          sx: {\n            textTransform: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Access Files\",\n          value: \"/current-access-files\",\n          sx: {\n            textTransform: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Shared With\",\n          value: \"/shared-with\",\n          sx: {\n            textTransform: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"error\",\n          onClick: handleLogout,\n          sx: {\n            textTransform: 'none',\n            fontWeight: 'bold'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"VBd8lscvl+74hCJ2aCsfcbE8d+o=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AppBar","Toolbar","Typography","Avatar","Box","Button","Tab","Tabs","AuthContext","getUserDetails","logoutUser","useNavigate","useLocation","jsxDEV","_jsxDEV","Header","_s","user","setUser","refreshToken","clearTokens","navigate","location","value","setValue","pathname","fetchUserDetails","response","data","error","console","handleLogout","position","sx","bgcolor","width","children","display","justifyContent","alignItems","mr","username","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","variant","fontWeight","color","Name","onChange","e","newValue","textColor","TabIndicatorProps","style","backgroundColor","flexGrow","label","textTransform","onClick","_c","$RefreshReg$"],"sources":["D:/Projects/new_folder1/as/frontend/src/components/Header.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { AppBar, Toolbar, Typography, Avatar, Box, Button, Tab, Tabs } from '@mui/material';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport { getUserDetails } from '../api/userApi';\r\nimport { logoutUser } from '../api/authApi';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n  const [user, setUser] = useState(null);\r\n  const { refreshToken, clearTokens } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [value, setValue] = useState(location.pathname);\r\n\r\n  // Fetch user details on mount\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      try {\r\n        const response = await getUserDetails();\r\n        setUser(response.data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch user details:', error);\r\n      }\r\n    };\r\n\r\n    if (refreshToken) {\r\n      fetchUserDetails();\r\n    }\r\n  }, [refreshToken]);\r\n\r\n  useEffect(() => {\r\n    setValue(location.pathname);\r\n  }, [location.pathname]);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      if (refreshToken) {\r\n        await logoutUser(refreshToken);\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout failed:', error);\r\n    } finally {\r\n      clearTokens();\r\n      navigate('/login');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AppBar\r\n      position=\"fixed\"\r\n      sx={{ bgcolor: '#2E3B55', width: '100%' }}\r\n    >\r\n      <Toolbar\r\n        sx={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between', // Ensures space between user info and logout\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        {/* Left Section: User Info */}\r\n        {user && (\r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <Avatar sx={{ bgcolor: '#FF7043', mr: 2 }}>\r\n              {user.username[0].toUpperCase()}\r\n            </Avatar>\r\n            <Box>\r\n              <Typography variant=\"body1\" sx={{ fontWeight: 'bold', color: '#FFF' }}>\r\n                Hi, {user.Name}\r\n              </Typography>\r\n              <Typography variant=\"caption\" sx={{ color: '#D1D9E6' }}>\r\n                @{user.username}\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        )}\r\n\r\n        {/* Center Section: Navigation Tabs */}\r\n        <Tabs\r\n          value={value}\r\n          onChange={(e, newValue) => navigate(newValue)}\r\n          textColor=\"inherit\"\r\n          TabIndicatorProps={{ style: { backgroundColor: '#FF7043' } }}\r\n          sx={{ flexGrow: 1, justifyContent: 'center' }}\r\n        >\r\n          <Tab label=\"Home\" value=\"/\" sx={{ textTransform: 'none' }} />\r\n          <Tab label=\"Uploaded Files\" value=\"/uploaded-files\" sx={{ textTransform: 'none' }} />\r\n          <Tab label=\"Access Files\" value=\"/current-access-files\" sx={{ textTransform: 'none' }} />\r\n          <Tab label=\"Shared With\" value=\"/shared-with\" sx={{ textTransform: 'none' }} />\r\n        </Tabs>\r\n\r\n        {/* Right Section: Logout Button */}\r\n        <Box>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"error\"\r\n            onClick={handleLogout}\r\n            sx={{\r\n              textTransform: 'none',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            Logout\r\n          </Button>\r\n        </Box>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}